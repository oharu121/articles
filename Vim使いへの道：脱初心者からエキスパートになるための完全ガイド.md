# はじめに

「Vimは学習コストが高い」。そう思っていませんか？確かに、Vimは他のエディタとは一線を画す操作体系を持つため、最初は戸惑うかもしれません。しかし、その壁を乗り越えた先には、驚くほど高速で快適なテキスト編集の世界が広がっています。

この記事では、Vimの基本的な概念から、日々のコーディングや文章作成を劇的に効率化する応用テクニック、さらには自分好みにカスタマイズする方法まで、Vimを「使いこなす」ためのノウハウを凝縮しました。さあ、あなたもVim使いへの第一歩を踏み出しましょう！

**なぜ今、Vimなのか？**

>* **思考を妨げない高速な編集**: Vimの真髄は「モード」と「コマンドの組み合わせ」にあります。マウスに手を伸ばすことなく、キーボードだけで思考のスピードを落とさずにテキストを自在に操れます。

>* **どこでも使える普遍性**: 多くのサーバー環境にデフォルトでインストールされているため、サーバー上での設定ファイル編集などでVimのスキルは直接役立ちます。

>* **無限のカスタマイズ性**: .vimrcという設定ファイルや豊富なプラグインを駆使することで、Vimを自分だけの最強のエディタに育て上げることが可能です。

# 1\. Vimの基本思想「モード」を理解する
Vimを理解する上で最も重要なのがモードの概念です。Vimには主に4つのモードがあり、これらを切り替えながら作業を進めます。
| モード | 主な役割 | 切り替えコマンド（例） |
|---|---|---|
| ノーマルモード | 移動、削除、コピーなど、編集の「司令塔」。Vim起動時のデフォルト。 | Esc でこのモードに戻る |
| 挿入モード | テキストを実際に入力するモード。他のエディタの通常状態に近い。 | i, a, o などで挿入モードへ |
| ビジュアルモード | テキストを範囲選択するモード。選択範囲に対して操作を行う。 | v (文字単位), V (行単位), Ctrl-v (矩形選択) |
| コマンドモード | ファイルの保存 (:w) や終了 (:q)、検索、置換などを行う。 | : を押すとこのモードへ |

まずは **「何か操作をしたら、すぐにEscキーでノーマルモードに戻る」** という癖をつけることが、Vim上達への近道です。

# 2\. 「モーション」を制する者はVimを制する

Vimの効率性は、カーソル移動の速さに大きく依存します。矢印キーに頼るのではなく、以下のモーションを覚えましょう。

>* **基本の移動**
>   * h (左)
>   * j (下)
>   * k (上)
>   * l (右)

>* **単語単位の移動**
>   * w: 次の単語の先頭へ
>   * b: 前の単語の先頭へ
>   * e: 現在の単語の末尾へ

>* **行内の移動**
>   * 0: 行頭へ
>   * ^: 行頭の最初の文字へ
>   * $: 行末へ

>* **ファイル全体の移動**
>   * gg: ファイルの先頭へ
>   * G: ファイルの末尾へ
>   * :[行番号] + Enter (例: :10): 指定した行へ移動

>* **画面内の移動**
>   * H: 画面の最上行へ
>   * M: 画面の中央行へ
>   * L: 画面の最下行へ

>* **検索による移動**
>   * /キーワード: 下方向へ検索
>   * ?キーワード: 上方向へ検索
>   * n: 次の候補へ
>   * N: 前の候補へ

# 3\. Vimの文法「オペレータ + モーション」

Vimの強力な編集機能は、 **オペレータ（操作）** と **モーション（移動）** の組み合わせで実現されます。これは [オペレータ][モーション] という文法として覚えましょう。
主なオペレータ

>* d: 削除 (delete)
>* c: 変更 (change) - 削除後に挿入モードになる
>* y: コピー (yank)

**組み合わせの例**

| コマンド | 意味 |
|---|---|
| dw | delete word: カーソル位置から次の単語の先頭までを削除 |
| d$ | delete to end of line: 行末まで削除 |
| caw | change around word: カーソルがある単語を空白を含めて変更 |
| yi" | yank inside ": ダブルクォート"で囲まれた内側をコピー |
| ggdG | ファイルの先頭(gg)に移動し、そこから(d)ファイルの末尾(G)まで削除（＝全削除） |

この文法を理解すると、覚えるべきコマンドの数が減り、応用が効くようになります。さらに、直前の操作を繰り返す . (ドット) コマンドも組み合わせると、作業効率は飛躍的に向上します。

# Vimを育てる.vimrcとプラグイン

素のVimでも強力ですが、カスタマイズすることで真価を発揮します。

ホームディレクトリにある `.vimrc` (なければ作成) は、Vimの起動時に読み込まれる設定ファイルです。ここに設定を書き込むことで、Vimの挙動を自分好みに変えられます。

```vim:.vimrc
" 行番号を表示
set number

" シンタックスハイライトを有効に
syntax on

" 検索時に大文字小文字を区別しない
set ignorecase

" 検索時に大文字が混ざっていれば区別する
set smartcase

" Tabキーでスペースを入力する
set expandtab

" Tabキーでのスペースの数
set tabstop=4

" インデントの幅
set shiftwidth=4
```

**プラグインによる機能拡張**

Vimには、世界中の開発者が作成した便利なプラグインが多数存在します。vim-plug などのプラグインマネージャーを使うと、これらの管理が容易になります。

>* **NERDTree**: サイドバーにファイルエクスプローラーを追加
>* **vim-fugitive**: Git操作をVim内から快適に行う
>* **coc.nvim**: 強力なコード補完や定義ジャンプなどを提供するLSPクライアント
>* **lightline.vim** / **airline**: ステータスラインをおしゃれで高機能に

# おわりに

Vimの学習は、楽器の練習に似ています。最初は指が思い通りに動きませんが、基本的な運指（コマンド）を繰り返し練習することで、次第に無意識レベルでテキストを編集できるようになります。

まずはPCに標準で入っている vimtutor (ターミナルで vimtutor と入力して実行) を一周することから始めてみてください。そして、この記事で紹介したテクニックを少しずつ日々の作業に取り入れてみましょう。

投資した時間は、必ずや生産性の向上という形であなたに返ってくるはずです。快適なVimライフをお楽しみください！
