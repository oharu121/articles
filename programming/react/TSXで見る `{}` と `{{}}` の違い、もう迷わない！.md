## TSX で見る `{}` と `{{}}` の違い、もう迷わない！

## はじめに

React や Next.js で TSX を書いていると、こんなコードによく出会いますよね。

```tsx
// style属性なのに、波括弧がなぜか2つ…？
<div style={{ color: 'red' }} />

// こちらは波括弧が1つ…
<span>{message}</span>
```

「どうして波括弧が 1 つの時と 2 つの時があるの？」「`{}`と`{{}}`の違いって何？」

そんな疑問を解消するために、この記事では 2 つの違いと使い分けのルールを、初心者の方にも分かりやすく解説します！

## `{}` は「JavaScript の世界への扉」

まず覚えておきたい基本ルールはこれです。

**TSX（JSX）の`{}`は、HTML 風のコードの中に JavaScript の変数や式を埋め込むための特別な記号**です。

`{}`で囲むことで、TSX は「ここからは JavaScript のコードとして扱ってね！」と判断してくれます。

```tsx
const userName = "山田さん";
const price = 1000;

return (
  <div>
    {/* 変数を表示する */}
    <h1>ようこそ、{userName}！</h1>

    {/* 計算式も書ける */}
    <p>税込価格：{price * 1.1} 円</p>

    {/* 関数の呼び出しもOK */}
    <p>今日の日付：{new Date().toLocaleDateString()}</p>
  </div>
);
```

このように、`{}`の中には変数だけでなく、計算式や関数の呼び出しなど、**JavaScript として評価できるものなら何でも書けます**。

## じゃあ `{{}}` の正体は？

結論から言うと、`{{}}` という特別な記法があるわけではありません。これは **`{}`が偶然 2 つ重なっただけ** なのです。

`{{ color: 'red' }}` を分解してみましょう。

> - **外側の `{}`**: これは先ほど説明した「JavaScript の世界への扉」です。TSX に対して「これから JavaScript の値を書きますよ」と伝えています。
> - **内側の `{}`**: これは **JavaScript の「オブジェクト」** を作成するための波括弧（オブジェクトリテラル）です。

つまり、`{{ color: 'red' }}` は、**「TSX の中で（外側の`{}`）、JavaScript のオブジェクト（内側の`{}`）を渡している」** という意味になります。

**🧠 なぜ `style` はオブジェクトで渡すの？**

React では、`style`属性に CSS を適用する際、文字列ではなく**JavaScript のオブジェクト形式で指定する**というルールがあります。CSS プロパティはキャメルケース（例: `font-size` → `fontSize`）で記述します。

このルールがあるため、`style`属性に値を渡すときは必ずオブジェクトを使うことになり、結果として `{{}}` という形が頻繁に登場するのです。

コードで見てみると、より分かりやすいかもしれません。

```tsx
// 1. まず、CSSスタイルをJavaScriptの「オブジェクト」として定義
const divStyle = {
  color: "red",
  fontSize: "20px",
  marginTop: "10px", // background-color は backgroundColor のように書く
};

// 2. そのオブジェクト変数を {} を使ってstyle属性に渡す
return <div style={divStyle}>Hello, React!</div>;
```

上の書き方と、下のインラインで直接書く方法は**全く同じ意味**です。

```tsx
// 変数に入れずに直接書くと、結果的に {{}} となる
return <div style={{ color: "red", fontSize: "20px" }}>Hello, React!</div>;
```

`{{...}}`は、このオブジェクトをインラインで直接書くためのショートカットだったわけですね！

**🎯 よくある使い分けまとめ**

| 用途                   | 記述例                                  | 構造                                    |
| ---------------------- | --------------------------------------- | --------------------------------------- |
| **テキストや数値表示** | `{message}`                             | `{ JavaScriptの変数 }`                  |
| **数値計算**           | `{price * 1.1}`                         | `{ JavaScriptの式 }`                    |
| **条件による出し分け** | `{isLoggedIn ? <p>ようこそ</p> : null}` | `{ JavaScriptの三項演算子 }`            |
| **CSS の適用**         | `style={{ marginTop: '10px' }}`         | `style={ CSSプロパティのオブジェクト }` |

## まとめ

`{}`

> - **目的:** TSX/JSX の中に JavaScript の変数や式を埋め込むため。
> - **イメージ:** JavaScript の世界への扉。

`{{}}`

> - **目的:** `style`属性などのように、**props に JavaScript オブジェクトを直接渡す**ときに使う。
> - **正体:** 外側が「JS への扉`{}`」、内側が「オブジェクト`{}`」の組み合わせ。

この使い分けをマスターすれば、React のコードがもっとスラスラ読めるようになります。`style={{}}`を見かけたときは、「ああ、これはオブジェクトを渡しているだけなんだな」と思い出してみてください！
