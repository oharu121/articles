### はじめに

テスト設計をしていると、「パターンが多すぎる！」「全部はテストできない…」と困ることはありませんか？

この記事では、そんな悩みを解決するために使える 4 つのキーワード：

> - 因子・水準（Parameter × Value）
> - パターン表（全組合せ）
> - 水平網羅
> - 2 因子（ペアワイズ）網羅

について、**具体例と計算**を交えて分かりやすく解説します！

### 因子と水準とは？

> - **因子（ファクター）**：入力項目や条件（例：OS、ブラウザ）
> - **水準（レベル）**：その因子が取りうる値（例：Windows / Mac / Linux）

| 因子         | 水準                    |
| ------------ | ----------------------- |
| OS           | Windows, Mac, Linux     |
| ブラウザ     | Chrome, Firefox, Safari |
| ログイン方式 | パスワード, SSO         |

### パターン表とは？

すべての因子の水準を組み合わせて作成する表を「パターン表」と呼びます。

**パターン表（抜粋）**

| OS      | ブラウザ | ログイン方式 |
| ------- | -------- | ------------ |
| Windows | Chrome   | パスワード   |
| Windows | Chrome   | SSO          |
| Windows | Firefox  | パスワード   |
| ...     | ...      | ...          |
| Linux   | Safari   | SSO          |

**通り数の計算**

```
通り数 = 各因子の水準数の掛け算
```

上記例の場合：

> - OS：3 通り
> - ブラウザ：3 通り
> - ログイン方式：2 通り

👉 **3 × 3 × 2 = 18 通り**

### 網羅方法

#### 1\. 水平網羅（Each Choice Coverage）

すべての**水準が最低 1 回以上**登場するようにする簡易的な網羅方法。

| OS      | ブラウザ | ログイン方式 |
| ------- | -------- | ------------ |
| Windows | Chrome   | パスワード   |
| Mac     | Firefox  | SSO          |
| Linux   | Safari   | パスワード   |
| Windows | Firefox  | SSO          |
| Mac     | Safari   | パスワード   |
| Linux   | Chrome   | SSO          |

✅ 各因子の全水準が 1 回以上登場している
❌ 組み合わせの漏れがある（ペアで見たときに網羅されていない）

#### 2\. 2 因子網羅（Pairwise Coverage）

**任意の 2 因子間のすべての組み合わせ**を最低 1 回は含むようにする手法。網羅性が高く、パターン数を大きく削減できる。

> - OS × ブラウザ：3×3 = 9 通り
> - OS × ログイン方式：3×2 = 6 通り
> - ブラウザ × ログイン方式：3×2 = 6 通り

👉 合計：**9 + 6 + 6 = 21 通り**（ただしこれらを最小数のケースで網羅）

| 手法       | 特徴                       | ケース数（上記例） |
| ---------- | -------------------------- | ------------------ |
| 全組合せ   | すべての可能な組合せを網羅 | 18 通り            |
| 水平網羅   | 各水準が 1 回以上登場      | 約 6 通り          |
| 2 因子網羅 | すべての 2 項目ペアを網羅  | 約 9〜12 通り      |

### おわりに

テストケースは多ければ良いというわけではありません。**限られたリソースで最大のバグ検出効果を得るには、「どこまで網羅するか」を戦略的に決める必要があります。**

今回紹介した考え方を活かして、効率よく高品質なテスト設計を目指しましょう！
